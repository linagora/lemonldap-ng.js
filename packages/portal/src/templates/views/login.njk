{% extends "base.njk" %}

{% block title %}Login - LemonLDAP::NG{% endblock %}

{% block content %}
<div class="logo">
  <h1>LemonLDAP::NG</h1>
  <p>Single Sign-On Portal</p>
</div>

{% if AUTH_ERROR_CODE %}
<span trmsg="{{ AUTH_ERROR_CODE }}">{{ AUTH_ERROR }}</span>
{% elif AUTH_ERROR %}
<div class="alert alert-error">
  {{ AUTH_ERROR }}
</div>
{% elif ERROR_CODE %}
<span trmsg="{{ ERROR_CODE }}">{{ ERROR_MSG }}</span>
{% endif %}

<form action="{{ PORTAL | default('/') }}" method="post">
  {% if URLDC %}
  <input type="hidden" name="url" value="{{ URLDC | attrEscape }}">
  {% endif %}

  <div class="form-group">
    <label for="user">Username</label>
    <input type="text" id="user" name="user" value="{{ LOGIN | default('') }}"
           autocomplete="username" autofocus required>
  </div>

  <div class="form-group">
    <label for="password">Password</label>
    <input type="password" id="password" name="password"
           autocomplete="current-password" required>
  </div>

  <button type="submit"><span trspan="connect">Connect</span></button>
</form>
{% endblock %}
